<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Full-stack developer and multi-instrumentalist, currently immersed in the wonders of San Francisco.">

    <title>Haskell Crunching - Jamie Henson</title>

    <link rel="canonical" href="http://jh47.com/2011/09/09/haskellcrunching/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Jamie Henson</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
                <li>
                    <a href="/about/">About</a>
                </li>
                
                <li>
                    <a href="/contact/">Contact</a>
                </li>
                
                <li>
                    <a href="/cv/">CV</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Haskell Crunching</h1>
                    
                    <span class="meta">Posted by Jamie Henson on September 9, 2011</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<p>Before I started Uni, I was familiar with the standard <em>procedural</em> paradigm of programming - you give a subroutine some values, tell it what to do, and some stuff happens. But a few months in to my first year I was introduced to the idea of _functional _programming - the example being Haskell. My lecturer at the time was a massive fan of the Haskell, hailing it as a potentially superior base for an operating system, or other large projects like that - but revealing that its relative lack of popularity on the main scene has kept it back.</p>

<p>The main point laboured was how precise these languages are. Given a constant set of inputs, the same conditions will always occur, and the same answers will always be the result. They’re the closest thing to mathematical formulation in a programming language I’ll find, they said.</p>

<!-- more -->

<p>The main thing I noticed was how little code was actually on the page, thinking “is that it?” when I saw that a program that could probably launch a rocket to the moon took up around 4 lines. Thinking of the impending programming assignments I was rubbing my hands together at the prospect of tapping out a few words and calling it a day as this magic language sorted it all out for you, but the reality was pretty different. We were given a choice between Haskell and Java for our final assignment, and I wussed out and took the Java option. But there were robots in that one, so nyeah.</p>

<p>Haskell is a strange language. Based around its ‘lazy semantics’ (i.e. it only calls what it has to), it’s a lot different from the others I’d seen, but can appreciate why its taught. It’s immensely powerful, very lenient in terms of data handling (no buggering about with pointers et cetera), and almost seems to intuitively know what you’re on about when you hand it values and instructions. It really is like maths. But, like maths, there’s little deviation in how you can actually achieve a task. With procedural/OO languages, you can hack at a problem from pretty much any direction and get a round-about answer. With Haskell you can sit for hours until you come up with two lines that solve the entire problem - it’s frustrating work, which is why it pays to sit and think it through before you sprint in.</p>

<p>For comparison, below is a version of the upper-bounded Sieve of Eratosthenes algorithm I wrote in Java (topical, since I was working on a number program recently):
&lt;pre class="brush:java"&gt;
String getprimes(String args)
  {
    int prinum = Integer.parseInt(args), amount=0, i=0, j=0, k=0, l=0;
    double[] primes = new double[prinum];</p>

<pre><code>	if (prinum == 1 || prinum == 0) return "N/A. Number given is " + prinum + ".";

StringBuffer pri = new StringBuffer();
String primecheck = "No.", prodprim = "";

// Check if 1 is found, this is a dodgy answer, since it is not prime
// (arguably), and contains no primes
if (args == "1")
{
  pri.append("N/A");
  String prilist = pri.toString();
  return prilist;
}

boolean[] PrimeMarker = new boolean[prinum+1];
for(i=2;i&lt;=prinum;i++) PrimeMarker[i] = true;

// Mark non-primes in true Eratosthenes fashion.
for(i=2;i*i&lt;=prinum;i++)
{
  if (PrimeMarker[i] == true)
  {
    for (j=i;i*j&lt;=prinum;j++) PrimeMarker[i*j] = false;
  }
}

for(i=2;i&lt;=prinum;i++)
{
  if (PrimeMarker[i] == true)
  {
    pri.append(i);
    pri.append(", ");
    amount++;
    primes[l] = (double) i;
    l++;
  }
}

pri.delete(pri.length()-2,pri.length());
String prilist = pri.toString();
return prilist;   }
</code></pre>
<p>&lt;/pre&gt;
I think we can agree that it’s not exactly light on its feet. Now, let’s compare that with a similar tiny method in Haskell (a guarded Turner sieve [1]):
&lt;pre class="brush:java"&gt;getprimes m = 2 : sieve [3,5..m]  where
    sieve (p:xs)
       | p*p &gt; m = p : xs
       | True    = p : sieve [x | x&lt;-xs, rem x p /= 0]&lt;/pre&gt;
When running the programs, the Java algorithm stalls and belches all the numbers out in one big lump, whereas the Haskell one reels them off one by one. I can’t tell which is quicker by eye, there’s no discernible difference. But for me, as a beginner to functional languages, the Java version is considerably easier to read and debug, despite its size. The Haskell version is easy to follow, but not easy to understand exactly why or how things work as they do, especially coming from more verbose languages such as Java.</p>

<p>It’s probably worth sticking at, since these languages may well rise up in the future. But looking at people who have made 3D first-person shooters and the like using them, well, hats off to them, I haven’t the first idea!</p>

<p>References:
[1] [http://en.literateprograms.org/Sieve_of_Eratosthenes<em>(Haskell)](http://en.literateprograms.org/Sieve_of_Eratosthenes</em>(Haskell))</p>


                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2011/09/03/numbertricks/" data-toggle="tooltip" data-placement="top" title="Numbertricks - product of primes">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2011/11/08/concurrency/" data-toggle="tooltip" data-placement="top" title="Do I like concurrency? Yes and no.">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/HensonJamie">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="https://github.com/jamiehenson">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; Jamie Henson 2016</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


</body>

</html>
